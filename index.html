<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="icon.png">
  <title>Parcyval Studios</title>
  <link href="https://fonts.googleapis.com/css2?family=Saira:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      background-image: url('backgrounda.jpg');
      background-color: #000000;
      background-size: cover;
      background-position: center;
      font-family: 'Saira', bold;
      position: relative;
      backdrop-filter: blur(10px);

    }

    /* Dark tint overlay */
    body::before {
    --line: rgb(134, 134, 134); /* Change the color to white */
    --size: 55px;
    content: "";
    height: 100%;
    width: 100%; /* WE NEED TO REMOVE THE SCROLLBAR */
    position: fixed;
    background:
        linear-gradient(90deg, var(--line) 1px, transparent 1px var(--size)) 0 -5vmin / var(--size) var(--size),
        linear-gradient(var(--line) 2px, transparent 2px var(--size)) 0 -5vmin / var(--size) var(--size);
    mask: linear-gradient(-15deg, transparent 65%, white);
    top: 0;
    z-index: -1;
}

.container {
  display: flex;
  justify-content: space-around;
  row-gap: 60px;
  align-items: center;
  flex-wrap: wrap;
  padding: 60px 20px; /* Add spacing */
}

    .box {
    position: relative;
    width: 77%;
    max-width: 450px; /* Adjust maximum width as needed */
    height: auto; /* Adjust height as needed */
    max-height: 800px; /* Set maximum height */
    overflow: hidden;
    border-radius: 11px;
    transition: transform 0.3s ease; /* Smooth transition for transform property */
    margin: 25px; /* Add margin for spacing */
    flex: 1 1 calc(33.333% - 40px); /* 3 columns layout with spacing */
    
    /* Outline styles */
    box-shadow: 0 0 55px 1px rgba(255, 255, 255, 0.205);
    /*
    box-shadow: 0 0 100px 5px rgba(255, 255, 255, 0.185);  Glow effect using box-shadow */
}


    .box:hover {
      transform: scale(1.1); /* Scale up to 110% on hover */
      /*box-shadow: 0 0 85px 8px rgba(255, 255, 255, 0.23); /* Increased glow on hover */
    }

    .box img {
      width: 100%;
      height: auto;
      display: block;
    } 

    .blurry-background {
      position: bottom;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 50%; /* Adjust height as needed */
      padding: 50px; /* Adjust padding as needed */
      background-color: rgba(255, 255, 255, 0.9); /* Adjust opacity as needed */
      backdrop-filter: blur(10px); /* Adjust blur amount */
      box-sizing: border-box; /* Ensure padding is included in width calculation */
      margin: 0; /* Remove default margin */
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .blurry-background h2 {
      margin: 0;
      text-align: center;
      font-size: 37px; /* Adjust font size */
      font-style: bold;
      color: #333;
    }

    .blurry-background p {
      margin: 10px 0 0; /* Adjust margin as needed */
      font-size: 18px; /* Adjust font size */
      color: #666;
      text-align: center; /* Center align text */
    }

    footer {
      background-color: #1f1f1f;
      background: linear-gradient(transparent, rgb(0, 0, 0));
      color: #fff;
      padding: 60px 20px;
      text-align: center;
    }
  
    .footer-buttons {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      margin-top: 20px;
    }
  
    .footer-buttons a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background-color: #636363;
      color: white;
      font-family: 'Saira', sans-serif;
      font-weight: bold;
      padding: 12px 20px;
      border-radius: 20px;
      text-decoration: none;
      width: 100%;
      max-width: 190px;
      max-height: 22px;
      transition: background-color 0.3s ease;
    }
  
    .footer-buttons a:hover {
      background-color: #4c4c4c;
    }
  
    .footer-buttons a img {
      width: 30px;
      height: 30px;
      margin-right: 10px;
    }
  
    @media (max-width: 480px) {
      .footer-buttons a {
        font-size: 14px;
        padding: 10px;
      }
  
      .footer-buttons a img {
        width: 25px;
        height: 25px;
        margin-right: 8px;
      }
    }


    @media (max-width: 768px) {
      .container {
        flex-direction: column; /* Stack items vertically on smaller screens */
        height: auto; /* Adjust height */
      }
      
      .box {
        max-width: 90%; /* Adjust max-width for smaller screens */
      }
    }
    #latest-video-container {
  max-width: 800px; /* or 90% */
  margin: 0 auto;
}
#latest-video iframe {
  width: 100% !important;  /* full width inside container */
  height: 450px;           /* or any fixed height */
  border-radius: 12px;
}
#latest-video-container h2 {
  font-size: 36px; /* adjust as needed */
  font-family: 'Saira', sans-serif;
  font-weight: bold;
  color: white;
  margin-bottom: 20px; /* optional spacing */
  text-align: center;
}

    
  </style>
</head>
<body>

<div class="container">
  <div class="box">
    <a href="descending_empires.html" style="text-decoration:none;">
      <img src="descending_empires.png" alt="Background Image">
      <div class="blurry-background">
        <h2>Descending Empires</h2>
        <p>A multiplayer space RTS blending in depth mechanics with fast paced skirmish matches. control and manage an empire together with your team in large-scale online battles</p>
      </div>
    </a>
  </div>
  <div class="box">
    <a href="friedbert.html" style="text-decoration:none;">
      <img src="friedbert.png" alt="Background Image">
      <div class="blurry-background">
        <h2>Friedbert</h2>
        <p>Singleplayer story game about a toaster army taking over the world. yes. really.</p>
      </div>
    </a>
  </div>
  <div class="box">
    <a href="https://parsyxd.itch.io/type" style="text-decoration:none;">
      <img src="type.png" alt="Background Image">
      <div class="blurry-background">
        <h2>TYPE</h2>
        <p>A Typing Game where the player has to defend themselves by typing the name of the approaching threats</p>
      </div>
    </a>
  </div>
</div> <!-- CLOSE container here -->

<!-- Move latest video container OUTSIDE of .container -->
<div id="latest-video-container" style="padding: 60px 20px; text-align: center; width: 100%; max-width: 800px; margin: 0 auto;">
  <h2 style="font-family:'Saira'; font-weight:bold; color:white;">Latest Devlog</h2>
  <div id="latest-video" style="margin-top: 20px;"></div>
</div>

<script>
  async function loadLatestFullVideo() {
    const key = "AIzaSyDEI2dlqzHG4HyuwCDIHCqIKezUO4ksjhM";         // ← replace
    const channel = "UCndWwQL8AaXQfDwOh2mSpvg";  // ← replace
    const searchUrl = `https://youtube.googleapis.com/youtube/v3/search?` +
      `key=${key}&channelId=${channel}&part=id&order=date&type=video&maxResults=5`;

    try {
      const searchRes = await fetch(searchUrl);
      const searchJson = await searchRes.json();
      const ids = searchJson.items.map(v => v.id.videoId).join(',');

      const detailsUrl = `https://youtube.googleapis.com/youtube/v3/videos?` +
        `key=${key}&id=${ids}&part=contentDetails`;

      const detailsRes = await fetch(detailsUrl);
      const detailsJson = await detailsRes.json();

      const fullVideo = detailsJson.items.find(v => {
        const dur = v.contentDetails.duration;
        const sec = parseISODuration(dur);
        return sec >= 65;
      });

      if (!fullVideo) {
        document.getElementById("latest-video").innerHTML =
          "<p style='color:white;'>no new videos found.</p>";
        return;
      }
  document.getElementById("latest-video").innerHTML = `
    <iframe width="560" height="315"
      src="https://www.youtube.com/embed/${fullVideo.id}"
      frameborder="0" allowfullscreen
      style="max-width:100%; border-radius:12px; box-shadow: 0 0 145px 1px rgba(255, 255, 255, 0.175);">
    </iframe>`;

    } catch (e) {
      console.error(e);
      document.getElementById("latest-video").innerHTML =
        "<p style='color:red;'>rrror loading video.</p>";
    }
  }

  // Converts ISO8601 duration (e.g. PT3M20S) to seconds
  function parseISODuration(iso) {
    const match = iso.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/);
    const h = parseInt(match[1]||0);
    const m = parseInt(match[2]||0);
    const s = parseInt(match[3]||0);
    return h*3600 + m*60 + s;
  }

  loadLatestFullVideo();
</script>

<footer>
  <h2 style="font-family: 'Saira'; font-weight: bold;">CONTACT</h2>
  <div class="footer-buttons">
    <a href="mailto:parsyprivat@gmail.com" target="_blank">
      EMAIL
    </a>
    <a href="https://discord.gg/v5SDHbvaUS" target="_blank">
      <img src="discord.png" alt="Discord" />
      DISCORD
    </a>
    <a href="https://store.steampowered.com/developer/Parcyval" target="_blank">
      <img src="steam.png" alt="Steam" />
      STEAM
    </a>
    <a href="https://www.patreon.com/c/Parcyval" target="_blank">
      <img src="patreon.png" alt="Patreon" />
      PATREON
    </a>
  </div>
</footer>
